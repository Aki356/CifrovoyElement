(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();const r=(o,t=document)=>t.querySelector(o),u=(o,t=document)=>[...t.querySelectorAll(o)];function c(o){const t=r("#toast");t&&(t.textContent=o,t.classList.add("is-shown"),setTimeout(()=>t.classList.remove("is-shown"),2600))}function h(o,t){const e=o.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!e.length)return;const n=e[0],s=e[e.length-1];t.shiftKey&&document.activeElement===n?(s.focus(),t.preventDefault()):!t.shiftKey&&document.activeElement===s&&(n.focus(),t.preventDefault())}class f{constructor(t){this.root=r(t),this.window=r(".modal__window",this.root),this.onKeydown=this.onKeydown.bind(this),this.onOverlay=this.onOverlay.bind(this),this.onCloseBtn=this.onCloseBtn.bind(this)}open(){if(!this.root)return;this.root.classList.add("is-open"),document.body.classList.add("scroll-lock"),this.root.setAttribute("aria-hidden","false"),(this.window.querySelector("button, input, textarea")||this.window).focus(),this.attach()}close(){this.root&&(this.root.classList.remove("is-open"),document.body.classList.remove("scroll-lock"),this.root.setAttribute("aria-hidden","true"),this.detach())}attach(){document.addEventListener("keydown",this.onKeydown,{passive:!0}),this.root.addEventListener("click",this.onOverlay);const t=r('[data-close="button"]',this.root);t&&t.addEventListener("click",this.onCloseBtn)}detach(){document.removeEventListener("keydown",this.onKeydown),this.root.removeEventListener("click",this.onOverlay);const t=r('[data-close="button"]',this.root);t&&t.removeEventListener("click",this.onCloseBtn)}onKeydown(t){t.key==="Escape"&&this.close(),t.key==="Tab"&&h(this.window,t)}onOverlay(t){var e,n;((n=(e=t.target)==null?void 0:e.dataset)==null?void 0:n.close)==="overlay"&&this.close()}onCloseBtn(){this.close()}}const m=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;function y(o){return String(o||"").trim().length<2?"Please enter at least 2 characters":""}function p(o){const t=String(o||"").trim();return m.test(t)?"":"Please enter a valid email"}function v(o){return String(o||"").trim().length<10?"Message must be 10+ characters":""}class g{constructor(t,e={}){this.form=r(t),this.endpoint=e.endpoint||"https://httpbin.org/post",this.onSubmit=this.onSubmit.bind(this)}init(){this.form&&this.form.addEventListener("submit",this.onSubmit)}destroy(){this.form&&this.form.removeEventListener("submit",this.onSubmit)}getValues(){const t=new FormData(this.form);return{fullName:t.get("fullName")||"",email:t.get("email")||"",message:t.get("message")||""}}setError(t,e){const n=r(`[data-error-for="${t}"]`,this.form);n&&(n.textContent=e,n.style.display="block",e==""&&(n.style.display="none"))}clearErrors(){["fullName","email","message"].forEach(t=>this.setError(t,""))}validate(t){this.clearErrors();const e={fullName:y(t.fullName),email:p(t.email),message:v(t.message)};return Object.entries(e).forEach(([s,i])=>i&&this.setError(s,i)),{isValid:!e.fullName&&!e.email&&!e.message,errors:e}}async onSubmit(t){t.preventDefault();const e=this.getValues(),{isValid:n}=this.validate(e);if(!n)return;const s={name:e.fullName,email:e.email,message:e.message};try{await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),this.form.reset(),c("Your message successfully sent");const i=new CustomEvent("form:sent");this.form.dispatchEvent(i)}catch{c("Something went wrong. Try again")}}}const d=new f("#contact-modal");function b(){d.open()}u('[data-modal="contact"]').forEach(o=>{o.addEventListener("click",b)});const w=new g("#contact-form");w.init();var l;(l=r("#contact-form"))==null||l.addEventListener("form:sent",()=>{d.close()});
